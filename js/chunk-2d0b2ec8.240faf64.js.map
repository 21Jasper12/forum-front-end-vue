{"version":3,"sources":["webpack:///./src/views/RestaurantDashboard.vue?cd37","webpack:///src/views/RestaurantDashboard.vue","webpack:///./src/views/RestaurantDashboard.vue?839b","webpack:///./src/views/RestaurantDashboard.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","restaurant","name","categoryName","commentsLength","viewCounts","attrs","on","$event","$router","back","staticRenderFns","components","Spinner","data","id","isLoading","beforeRouteUpdate","to","from","next","created","methods","fetchRestaurant","restaurantId","restaurantsAPI","Category","Comments","console","Toast","icon","title","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAa,UAAEI,EAAG,WAAWA,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,WAAWC,SAASN,EAAG,OAAO,CAACE,YAAY,mCAAmC,CAACN,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIS,WAAWE,cAAc,SAASP,EAAG,MAAMA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIO,GAAG,QAAQP,EAAIQ,GAAGR,EAAIS,WAAWG,mBAAmBR,EAAG,KAAK,CAACJ,EAAIO,GAAG,SAASP,EAAIQ,GAAGR,EAAIS,WAAWI,iBAAiBT,EAAG,SAAS,CAACE,YAAY,eAAeQ,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOhB,EAAIiB,QAAQC,UAAU,CAAClB,EAAIO,GAAG,eACpmBY,EAAkB,G,sECkHP,GACfC,YACAC,gBAEAC,KAJA,WAKA,OACAb,YACAc,MACAb,QACAC,gBACAC,iBACAC,cAEAW,eAGAC,kBAhBA,SAgBAC,EAAAC,EAAAC,GACA,kBACA,wBACAA,KAEAC,QArBA,WAsBA,4BACA,yBAEAC,SACAC,gBADA,SACAC,GAAA,4LAEA,eAFA,SAGAC,sBAAAD,iBAHA,gBAGAV,EAHA,EAGAA,KAHA,EAKAA,aAAAC,EALA,EAKAA,GAAAb,EALA,EAKAA,KAAAwB,EALA,EAKAA,SAAAC,EALA,EAKAA,SAAAtB,EALA,EAKAA,WACA,cACAU,KACAb,OACAC,4BACAC,wBACAC,cAGA,eAdA,qDAiBA,eACAuB,4BAEAC,cACAC,aACAC,yBAtBA,+DC7I6V,I,YCOzVC,EAAY,eACd,EACAzC,EACAoB,GACA,EACA,KACA,KACA,MAIa,aAAAqB,E","file":"js/chunk-2d0b2ec8.240faf64.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isLoading)?_c('Spinner'):_c('div',{staticClass:\"container py-5\"},[_c('div',[_c('h1',[_vm._v(_vm._s(_vm.restaurant.name))]),_c('span',{staticClass:\"badge badge-secondary mt-1 mb-3\"},[_vm._v(\" \"+_vm._s(_vm.restaurant.categoryName)+\" \")])]),_c('hr'),_c('ul',[_c('li',[_vm._v(\"評論數： \"+_vm._s(_vm.restaurant.commentsLength))]),_c('li',[_vm._v(\"瀏覽次數： \"+_vm._s(_vm.restaurant.viewCounts))])]),_c('button',{staticClass:\"btn btn-link\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$router.back()}}},[_vm._v(\" 回上一頁 \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <Spinner v-if=\"isLoading\" />\r\n\r\n  <div \r\n    v-else\r\n    class=\"container py-5\"\r\n  >\r\n    <div>\r\n      <h1>{{ restaurant.name }}</h1>\r\n      <span class=\"badge badge-secondary mt-1 mb-3\">\r\n        {{ restaurant.categoryName }}\r\n      </span>\r\n    </div>\r\n\r\n    <hr>\r\n\r\n    <ul>\r\n      <li>評論數： {{ restaurant.commentsLength }}</li>\r\n      <li>瀏覽次數： {{ restaurant.viewCounts }}</li>\r\n    </ul>\r\n\r\n    <button\r\n      type=\"button\"\r\n      class=\"btn btn-link\"\r\n      @click=\"$router.back()\"\r\n    >\r\n      回上一頁\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport restaurantsAPI from './../apis/restaurants'\r\nimport { Toast } from './../utils/helpers'\r\nimport  Spinner from './../components/Spinner.vue'\r\n\r\n// 串接API後就可以把假資料刪除\r\n// const dummyData = {\r\n//     \"restaurant\": {\r\n//         \"id\": 1,\r\n//         \"name\": \"Alfredo Buckridge\",\r\n//         \"tel\": \"405.381.3052 x47083\",\r\n//         \"address\": \"81579 Kunde Fall\",\r\n//         \"opening_hours\": \"08:00\",\r\n//         \"description\": \"Voluptatum necessitatibus quis qui repellat omnis est. Tenetur inventore facere quis sint aperiam vel incidunt eum et. Ea voluptas non maxime deserunt officia sit ut corrupti quis. Et aut error ea molestiae et iste voluptatem sapiente. Quia ipsam quas hic qui impedit. Doloribus illum adipisci.\\n \\rVoluptas repellat nesciunt blanditiis. Vel et illo. Accusamus omnis laborum. Animi qui et saepe sint tenetur.\\n \\rDolorum ipsa fugiat explicabo. Aliquid nostrum totam quas aperiam libero necessitatibus animi possimus. Adipisci aut magni modi. Necessitatibus totam adipisci veniam. Vitae ipsum aut quis delectus dolorem illo.\",\r\n//         \"image\": \"https://loremflickr.com/320/240/restaurant,food/?random=12.044077533969254\",\r\n//         \"viewCounts\": 1,\r\n//         \"createdAt\": \"2022-08-09T16:06:07.000Z\",\r\n//         \"updatedAt\": \"2022-08-23T08:06:20.000Z\",\r\n//         \"CategoryId\": 3,\r\n//         \"Category\": {\r\n//             \"id\": 3,\r\n//             \"name\": \"義大利料理\",\r\n//             \"createdAt\": \"2022-08-09T16:06:07.000Z\",\r\n//             \"updatedAt\": \"2022-08-09T16:06:07.000Z\"\r\n//         },\r\n//         \"Comments\": [\r\n//             {\r\n//                 \"id\": 1,\r\n//                 \"text\": \"Beatae dolor quisquam omnis.\",\r\n//                 \"UserId\": 2,\r\n//                 \"RestaurantId\": 1,\r\n//                 \"createdAt\": \"2022-08-09T16:06:07.000Z\",\r\n//                 \"updatedAt\": \"2022-08-09T16:06:07.000Z\",\r\n//                 \"User\": {\r\n//                     \"id\": 2,\r\n//                     \"name\": \"user1\",\r\n//                     \"email\": \"user1@example.com\",\r\n//                     \"password\": \"$2a$10$BEmxg9Eet19yTpB3ExIfOuQDxIiFHLQ2hleOnbe7vbQ1QmGAGr4Ly\",\r\n//                     \"isAdmin\": false,\r\n//                     \"image\": null,\r\n//                     \"createdAt\": \"2022-08-09T16:06:07.000Z\",\r\n//                     \"updatedAt\": \"2022-08-09T16:06:07.000Z\"\r\n//                 }\r\n//             },\r\n//             {\r\n//                 \"id\": 51,\r\n//                 \"text\": \"Ut illum assumenda.\",\r\n//                 \"UserId\": 3,\r\n//                 \"RestaurantId\": 1,\r\n//                 \"createdAt\": \"2022-08-09T16:06:07.000Z\",\r\n//                 \"updatedAt\": \"2022-08-09T16:06:07.000Z\",\r\n//                 \"User\": {\r\n//                     \"id\": 3,\r\n//                     \"name\": \"user2\",\r\n//                     \"email\": \"user2@example.com\",\r\n//                     \"password\": \"$2a$10$QdqsfYDvkxUNdmHkFP1ia.yQeTT/czAWATuNJfy9WgjtpI35aGopO\",\r\n//                     \"isAdmin\": false,\r\n//                     \"image\": null,\r\n//                     \"createdAt\": \"2022-08-09T16:06:07.000Z\",\r\n//                     \"updatedAt\": \"2022-08-09T16:06:07.000Z\"\r\n//                 }\r\n//             },\r\n//             {\r\n//                 \"id\": 101,\r\n//                 \"text\": \"Omnis nostrum nobis dolores cum.\",\r\n//                 \"UserId\": 3,\r\n//                 \"RestaurantId\": 1,\r\n//                 \"createdAt\": \"2022-08-09T16:06:07.000Z\",\r\n//                 \"updatedAt\": \"2022-08-09T16:06:07.000Z\",\r\n//                 \"User\": {\r\n//                     \"id\": 3,\r\n//                     \"name\": \"user2\",\r\n//                     \"email\": \"user2@example.com\",\r\n//                     \"password\": \"$2a$10$QdqsfYDvkxUNdmHkFP1ia.yQeTT/czAWATuNJfy9WgjtpI35aGopO\",\r\n//                     \"isAdmin\": false,\r\n//                     \"image\": null,\r\n//                     \"createdAt\": \"2022-08-09T16:06:07.000Z\",\r\n//                     \"updatedAt\": \"2022-08-09T16:06:07.000Z\"\r\n//                 }\r\n//             }\r\n//         ]\r\n//     }\r\n// }\r\n\r\nexport default {\r\n  components: {\r\n    Spinner,\r\n  },\r\n  data() {\r\n    return {\r\n      restaurant: {\r\n        id: -1,\r\n        name: '',\r\n        categoryName: '',\r\n        commentsLength: 0,\r\n        viewCounts: 0\r\n      },\r\n      isLoading: true\r\n    }\r\n  },\r\n  beforeRouteUpdate (to, from, next) {\r\n    const { id: restaurantId } = to.params\r\n    this.fetchRestaurant(restaurantId)\r\n    next()\r\n  },\r\n  created() {\r\n    const { id: restaurantId } = this.$route.params\r\n    this.fetchRestaurant(restaurantId)\r\n  },\r\n  methods: {\r\n    async fetchRestaurant(restaurantId) {\r\n      try{\r\n        this.isLoading = true\r\n        const { data } = await restaurantsAPI.getRestaurant({ restaurantId })\r\n\r\n        const {id, name, Category, Comments, viewCounts } = data.restaurant\r\n        this.restaurant = {\r\n          id,\r\n          name,\r\n          categoryName: Category ? Category.name : '未分類',\r\n          commentsLength: Comments.length,\r\n          viewCounts\r\n        }\r\n\r\n        this.isLoading = false\r\n      }\r\n      catch(error){\r\n        this.isLoading = false\r\n        console.error(error.message)\r\n\r\n        Toast.firer({\r\n          icon: 'error',\r\n          title: '無法取得餐廳資料，請稍後再試' \r\n        })\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RestaurantDashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RestaurantDashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RestaurantDashboard.vue?vue&type=template&id=0e9a115a&\"\nimport script from \"./RestaurantDashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./RestaurantDashboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}