{"version":3,"sources":["webpack:///./src/components/CreateComment.vue?30ea","webpack:///./src/components/RestaurantComments.vue?d6a9","webpack:///./src/components/RestaurantDetail.vue?199e","webpack:///./src/views/RestaurantShow.vue?c017","webpack:///./src/components/RestaurantDetail.vue?1641","webpack:///src/components/RestaurantDetail.vue","webpack:///./src/components/RestaurantDetail.vue?6380","webpack:///./src/components/RestaurantDetail.vue","webpack:///./src/components/RestaurantComments.vue?c78f","webpack:///src/components/RestaurantComments.vue","webpack:///./src/components/RestaurantComments.vue?a2b7","webpack:///./src/components/RestaurantComments.vue","webpack:///./src/components/CreateComment.vue?05dc","webpack:///src/components/CreateComment.vue","webpack:///./src/components/CreateComment.vue?3075","webpack:///./src/components/CreateComment.vue","webpack:///src/views/RestaurantShow.vue","webpack:///./src/views/RestaurantShow.vue?b92d","webpack:///./src/views/RestaurantShow.vue","webpack:///./node_modules/core-js/modules/es.symbol.description.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","restaurant","restaurantComments","on","afterDeleteComment","id","afterCreateComment","staticRenderFns","_s","name","categoryName","staticStyle","_f","image","openingHours","tel","address","description","params","isProcessing","$event","stopPropagation","preventDefault","deleteFavorite","addFavorite","deleteLike","addLike","mixins","props","initialRestaurant","type","required","data","watch","newValue","methods","restaurantId","usersAPI","isFavorited","console","Toast","icon","title","isLiked","component","_l","comment","key","currentUser","handleDeleteButtonClick","_e","User","text","createdAt","computed","mapState","commentId","restaurantsAPI","handleSubmit","apply","arguments","directives","rawName","value","expression","domProps","target","composing","$router","back","components","RestaurantDetail","RestaurantComments","CreateComment","Spinner","isLoading","beforeRouteUpdate","to","from","next","created","fetchRestaurant","Category","opening_hours","Comments","payload","RestaurantId","$","DESCRIPTORS","global","uncurryThis","hasOwn","isCallable","isPrototypeOf","toString","defineProperty","f","copyConstructorProperties","NativeSymbol","Symbol","SymbolPrototype","prototype","undefined","EmptyStringDescriptionStore","SymbolWrapper","length","result","constructor","NATIVE_SYMBOL","String","symbolToString","symbolValueOf","valueOf","regexp","replace","stringSlice","slice","configurable","get","symbol","string","desc","forced"],"mappings":"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","file":"js/chunk-d22e0612.b2d6b6e3.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateComment.vue?vue&type=style&index=0&id=1eddf452&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RestaurantComments.vue?vue&type=style&index=0&id=301f4991&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RestaurantDetail.vue?vue&type=style&index=0&id=32c4faa1&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isLoading)?_c('Spinner'):_c('div',{staticClass:\"container py-5\"},[_c('h1',[_vm._v(\"餐廳描述頁\")]),_c('RestaurantDetail',{attrs:{\"initial-restaurant\":_vm.restaurant}}),_c('hr'),_c('RestaurantComments',{attrs:{\"restaurant-comments\":_vm.restaurantComments},on:{\"after-delete-comment\":_vm.afterDeleteComment}}),_c('CreateComment',{attrs:{\"restaurant-id\":_vm.restaurant.id},on:{\"after-create-comment\":_vm.afterCreateComment}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12 mb-3\"},[_c('h1',[_vm._v(_vm._s(_vm.restaurant.name))]),_c('p',{staticClass:\"badge badge-secondary mt-1 mb-3\"},[_vm._v(\" \"+_vm._s(_vm.restaurant.categoryName)+\" \")])]),_c('div',{staticClass:\"col-lg-4\"},[_c('img',{staticClass:\"img-responsive center-block\",staticStyle:{\"width\":\"250px\",\"margin-bottom\":\"25px\"},attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.restaurant.image)}}),_c('div',{staticClass:\"contact-info-wrap\"},[_c('ul',{staticClass:\"list-unstyled\"},[_c('li',[_c('strong',[_vm._v(\"Opening Hour:\")]),_vm._v(\" \"+_vm._s(_vm.restaurant.openingHours)+\" \")]),_c('li',[_c('strong',[_vm._v(\"Tel:\")]),_vm._v(\" \"+_vm._s(_vm.restaurant.tel)+\" \")]),_c('li',[_c('strong',[_vm._v(\"Address:\")]),_vm._v(\" \"+_vm._s(_vm.restaurant.address)+\" \")])])])]),_c('div',{staticClass:\"col-lg-8\"},[_c('p',[_vm._v(_vm._s(_vm.restaurant.description))]),_c('router-link',{staticClass:\"btn btn-primary btn-border mr-2\",attrs:{\"to\":{ name: 'restaurant-show-dashboard', params: { id: _vm.restaurant.id } }}},[_vm._v(\" Dashboard \")]),(_vm.restaurant.isFavorited)?_c('button',{staticClass:\"btn btn-danger btn-border mr-2\",attrs:{\"disabled\":_vm.isProcessing,\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteFavorite(_vm.restaurant.id)}}},[_vm._v(\" 移除最愛 \")]):_c('button',{staticClass:\"btn btn-primary btn-border mr-2\",attrs:{\"disabled\":_vm.isProcessing,\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addFavorite(_vm.restaurant.id)}}},[_vm._v(\" 加到最愛 \")]),(_vm.restaurant.isLiked)?_c('button',{staticClass:\"btn btn-danger like mr-2\",attrs:{\"disabled\":_vm.isProcessing,\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteLike(_vm.restaurant.id)}}},[_vm._v(\" Unlike \")]):_c('button',{staticClass:\"btn btn-primary like mr-2\",attrs:{\"disabled\":_vm.isProcessing,\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addLike(_vm.restaurant.id)}}},[_vm._v(\" Like \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12 mb-3\">\r\n      <h1>{{ restaurant.name }}</h1>\r\n      <p class=\"badge badge-secondary mt-1 mb-3\">\r\n        {{ restaurant.categoryName }}\r\n      </p>\r\n    </div>\r\n    <div class=\"col-lg-4\">\r\n      <img\r\n        class=\"img-responsive center-block\" \r\n        :src=\"restaurant.image | emptyImage\"\r\n        style=\"width: 250px;margin-bottom: 25px;\"\r\n      >\r\n      <div class=\"contact-info-wrap\">\r\n        <ul class=\"list-unstyled\">\r\n          <li>\r\n            <strong>Opening Hour:</strong>\r\n            {{ restaurant.openingHours }}\r\n          </li>\r\n          <li>\r\n            <strong>Tel:</strong>\r\n            {{ restaurant.tel }}\r\n          </li>\r\n          <li>\r\n            <strong>Address:</strong>\r\n            {{ restaurant.address }}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-lg-8\">\r\n      <p>{{ restaurant.description }}</p>\r\n      <router-link\r\n        class=\"btn btn-primary btn-border mr-2\"\r\n        :to=\"{ name: 'restaurant-show-dashboard', params: { id: restaurant.id } }\"\r\n      >\r\n        Dashboard\r\n      </router-link>\r\n\r\n      <button\r\n        v-if=\"restaurant.isFavorited\"\r\n        :disabled=\"isProcessing\"\r\n        type=\"button\"\r\n        class=\"btn btn-danger btn-border mr-2\"\r\n        @click.stop.prevent=\"deleteFavorite(restaurant.id)\"\r\n      >\r\n        移除最愛\r\n      </button>\r\n      <button\r\n        v-else\r\n        :disabled=\"isProcessing\"\r\n        type=\"button\"\r\n        class=\"btn btn-primary btn-border mr-2\"\r\n        @click.stop.prevent=\"addFavorite(restaurant.id)\"\r\n      >\r\n        加到最愛\r\n      </button>\r\n      <button\r\n        v-if=\"restaurant.isLiked\"\r\n        :disabled=\"isProcessing\"\r\n        type=\"button\"\r\n        class=\"btn btn-danger like mr-2\"\r\n        @click.stop.prevent=\"deleteLike(restaurant.id)\"\r\n      >\r\n        Unlike\r\n      </button>\r\n      <button\r\n        v-else\r\n        :disabled=\"isProcessing\"\r\n        type=\"button\"\r\n        class=\"btn btn-primary like mr-2\"\r\n        @click.stop.prevent=\"addLike(restaurant.id)\"\r\n      >\r\n        Like\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { emptyImageFilter } from './../utils/mixins.js'\r\nimport usersAPI from './../apis/user'\r\nimport { Toast } from './../utils/helpers'\r\n\r\nexport default {\r\n  mixins: [emptyImageFilter],\r\n  props: {\r\n    initialRestaurant: {\r\n      type: Object,\r\n      required: true,\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      restaurant: this.initialRestaurant,\r\n      isProcessing: false\r\n    }\r\n  },\r\n  watch: {\r\n    initialRestaurant (newValue) {\r\n      this.restaurant = {\r\n        ...this.restaurant,\r\n        ...newValue\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async addFavorite(restaurantId) {\r\n      try{\r\n        this.isProcessing = true\r\n        const { data } = await usersAPI.addFavorite({restaurantId})\r\n\r\n        if(data.status !== 'success'){\r\n          throw new Error(data.message)\r\n        }\r\n\r\n        this.restaurant = {\r\n          ...this.restaurant, // 保留餐廳內原有資料\r\n          isFavorited: true\r\n        }\r\n\r\n        this.isProcessing = false\r\n      }\r\n      catch(error){\r\n        this.isProcessing = false\r\n        console.error(error.message)\r\n\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無法將餐廳加入最愛，請稍後再試'\r\n        })\r\n      }\r\n    },\r\n    async deleteFavorite (restaurantId) {\r\n      try{\r\n        this.isProcessing = true\r\n        // STEP 3: 使用撰寫好的 addFavorite 方法去呼叫 API，並取得回傳內容\r\n        const { data } = await usersAPI.deleteFavorite({ restaurantId })\r\n\r\n        // STEP 4: 若請求過程有錯，則進到錯誤處理\r\n        if(data.status !== 'success'){\r\n          throw new Error(data.message)\r\n        }\r\n\r\n        // STEP 5: 請求成功的話，改變 Vue 內的資料狀態\r\n        this.restaurant = {\r\n          ...this.restaurant, // 保留餐廳內原有資料\r\n          isFavorited: false\r\n        }\r\n        \r\n        this.isProcessing = false\r\n      }\r\n      catch(error){\r\n        this.isProcessing = false\r\n        console.error(error.message)\r\n\r\n        // STEP 6: 請求失敗的話則跳出錯誤提示\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無法將餐廳移除最愛，請稍後再試'\r\n        })\r\n      }\r\n    },\r\n    async addLike(restaurantId) {\r\n      try{\r\n        this.isProcessing = true\r\n        const { data } = await usersAPI.addLike({ restaurantId })\r\n        \r\n        if(data.status !== 'success'){\r\n          throw new Error(data.message)\r\n        }\r\n\r\n        this.restaurant = {\r\n          ...this.restaurant,\r\n          isLiked: true\r\n        }\r\n\r\n        this.isProcessing = false\r\n      }\r\n      catch(error){\r\n        this.isProcessing = false\r\n        console.error(error.message)\r\n\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無法將餐廳加到Like，請稍後再試'\r\n        })\r\n      }\r\n    },\r\n    async deleteLike(restaurantId) {\r\n      try{\r\n        this.isProcessing = true\r\n        const { data } = await usersAPI.deleteLike({ restaurantId })\r\n        \r\n        if(data.status !== 'success'){\r\n          throw new Error(data.message)\r\n        }\r\n\r\n        this.restaurant = {\r\n          ...this.restaurant,\r\n          isLiked: false\r\n        }\r\n\r\n        this.isProcessing = false\r\n      }\r\n      catch(error){\r\n        this.isProcessing = false\r\n        console.error(error.message)\r\n\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無法將餐廳移除Like，請稍後再試'\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.col-lg-8 p,\r\n.contact-info-wrap li,\r\n.contact-info-wrap strong {\r\n  font-family: serif;\r\n  font-size: 17px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RestaurantDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RestaurantDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RestaurantDetail.vue?vue&type=template&id=32c4faa1&scoped=true&\"\nimport script from \"./RestaurantDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./RestaurantDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RestaurantDetail.vue?vue&type=style&index=0&id=32c4faa1&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"32c4faa1\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',{staticClass:\"my-4\"},[_vm._v(\" 所有評論： \")]),_vm._l((_vm.restaurantComments),function(comment){return _c('div',{key:comment.id},[_c('blockquote',{staticClass:\"blockquote mb-0\"},[(_vm.currentUser.isAdmin)?_c('button',{staticClass:\"btn btn-danger float-right\",attrs:{\"disabled\":_vm.isProcessing,\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleDeleteButtonClick(comment.id)}}},[_vm._v(\" Delete \")]):_vm._e(),_c('h3',[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\" \"+_vm._s(comment.User.name)+\" \")])]),_c('p',[_vm._v(_vm._s(comment.text))]),_c('footer',{staticClass:\"blockquote-footer\"},[_vm._v(\" \"+_vm._s(_vm._f(\"fromNow\")(comment.createdAt))+\" \")])]),_c('hr')])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <h2 class=\"my-4\">\r\n      所有評論：\r\n    </h2>\r\n\r\n    <div\r\n      v-for=\"comment in restaurantComments\"\r\n      :key=\"comment.id\"\r\n    >\r\n      <blockquote class=\"blockquote mb-0\">\r\n        <button\r\n          v-if=\"currentUser.isAdmin\"\r\n          :disabled=\"isProcessing\"\r\n          type=\"button\"\r\n          class=\"btn btn-danger float-right\"\r\n          @click.stop.prevent=\"handleDeleteButtonClick(comment.id)\"\r\n        >\r\n          Delete\r\n        </button>\r\n        <h3>\r\n          <a href=\"#\">\r\n            {{ comment.User.name }}\r\n          </a>\r\n        </h3>\r\n        <p>{{ comment.text }}</p>\r\n        <footer class=\"blockquote-footer\">\r\n          {{ comment.createdAt | fromNow}}\r\n        </footer>\r\n      </blockquote>\r\n      <hr>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { fromNowFilter } from './../utils/mixins'\r\nimport restaurantsAPI from './../apis/restaurants'\r\nimport { Toast } from './../utils/helpers'\r\nimport { mapState } from 'vuex'\r\n\r\n\r\n// 串接store後就可以把假資料刪除\r\n// const dummyUser = {\r\n//   currentUser: {\r\n//     id: 1,\r\n//     name: '管理者',\r\n//     email: 'root@example.com',\r\n//     image: 'https://i.pravatar.cc/300',\r\n//     isAdmin: true\r\n//   },\r\n//   isAuthenticated: true\r\n// }\r\n\r\nexport default {\r\n  mixins: [fromNowFilter],\r\n  props: {\r\n    restaurantComments: {\r\n      type: Array,\r\n      required: true,\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isProcessing: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['currentUser'])\r\n  },\r\n  methods: {\r\n    async handleDeleteButtonClick (commentId) {\r\n      try{\r\n        this.isProcessing = true\r\n        const { data } = await restaurantsAPI.deleteComment({commentId})\r\n\r\n        if(data.status !== 'success'){\r\n          throw new Error(data.message)\r\n        }\r\n        // console.log('handleDeleteButtonClick', commentId)\r\n        // // TODO: 請求 API 伺服器刪除 id 為 commentId 的評論\r\n        // // 觸發父層事件 - $emit( '事件名稱' , 傳遞的資料 )\r\n        this.$emit('after-delete-comment', commentId)\r\n\r\n        this.isProcessing = false\r\n      }\r\n      catch(error){\r\n        this.isProcessing = false\r\n        console.error(error.message)\r\n\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無法刪除評論，請稍後再試'\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nh2.my-4 {\r\n  margin-bottom: 1rem !important;\r\n  font-size: 18px;\r\n}\r\n\r\nh3 {\r\n  margin-bottom: 3px;\r\n  line-height: 1.3;\r\n}\r\n\r\n.blockquote-footer {\r\n  font-size: 12.5px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RestaurantComments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RestaurantComments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RestaurantComments.vue?vue&type=template&id=301f4991&scoped=true&\"\nimport script from \"./RestaurantComments.vue?vue&type=script&lang=js&\"\nexport * from \"./RestaurantComments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RestaurantComments.vue?vue&type=style&index=0&id=301f4991&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"301f4991\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"form-group mb-4\"},[_c('label',{attrs:{\"for\":\"text\"}},[_vm._v(\"留下評論：\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.text),expression:\"text\"}],staticClass:\"form-control\",attrs:{\"rows\":\"3\",\"name\":\"text\"},domProps:{\"value\":(_vm.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.text=$event.target.value}}})]),_c('div',{staticClass:\"d-flex align-items-center justify-content-between\"},[_c('button',{staticClass:\"btn btn-link\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$router.back()}}},[_vm._v(\"回上一頁\")]),_c('button',{staticClass:\"btn btn-primary mr-0\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isProcessing}},[_vm._v(\" \"+_vm._s(_vm.isProcessing ? '處理中...' : 'Submit')+\" \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <form\r\n    @submit.stop.prevent=\"handleSubmit\"\r\n  >\r\n    <div class=\"form-group mb-4\">\r\n      <label for=\"text\">留下評論：</label>\r\n      <textarea\r\n        class=\"form-control\"\r\n        rows=\"3\"\r\n        name=\"text\"\r\n        v-model=\"text\"\r\n      />\r\n    </div>\r\n    <div class=\"d-flex align-items-center justify-content-between\">\r\n      <button\r\n        type=\"button\"\r\n        class=\"btn btn-link\"\r\n        @click=\"$router.back()\"\r\n      >回上一頁</button>\r\n      <button\r\n        type=\"submit\"\r\n        class=\"btn btn-primary mr-0\"\r\n        :disabled=\"isProcessing\"\r\n      >\r\n        {{ isProcessing ? '處理中...' : 'Submit' }}\r\n      </button>\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport restaurantsAPI from './../apis/restaurants'\r\nimport { Toast } from './../utils/helpers'\r\n\r\nexport default {\r\n  props: {\r\n    restaurantId: {\r\n      type: Number,\r\n      required: true,\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      text: '',\r\n      isProcessing: false\r\n    }\r\n  },\r\n  methods: {\r\n    async handleSubmit() {\r\n      try{\r\n        this.isProcessing = true\r\n        const { data } = await restaurantsAPI.createComment({\r\n          restaurantId: this.restaurantId,\r\n          text: this.text\r\n        })\r\n\r\n        if(data.status !== 'success'){\r\n          throw new Error(data.message)\r\n        }\r\n        \r\n        // console.log('submit form') 測試\r\n        // TODO: 向 API 發送 POST 請求\r\n        // 伺服器新增 Comment 成功後...\r\n        this.$emit('after-create-comment',{\r\n          commentId: data.commentId, // 尚未串接 API 暫時使用隨機的 id\r\n          restaurantId: this.restaurantId,\r\n          text: this.text\r\n        })\r\n        this.text = '' // 將表單內的資料清空\r\n\r\n        this.isProcessing = false\r\n      }\r\n      catch(error){\r\n        this.isProcessing = false\r\n        console.error(error.message)\r\n\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無法新增評論，請稍後再試'\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.form-group {\r\n  margin: 21px 0 8px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateComment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateComment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateComment.vue?vue&type=template&id=1eddf452&scoped=true&\"\nimport script from \"./CreateComment.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateComment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CreateComment.vue?vue&type=style&index=0&id=1eddf452&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1eddf452\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <Spinner v-if=\"isLoading\" />\r\n\r\n  <div \r\n    v-else\r\n    class=\"container py-5\"\r\n  >\r\n    <h1>餐廳描述頁</h1>\r\n    <!-- 餐廳資訊頁 RestaurantDetail -->\r\n    <RestaurantDetail :initial-restaurant=\"restaurant\"/>\r\n\r\n    <hr />\r\n    <!-- 餐廳評論 RestaurantComments -->\r\n    <RestaurantComments \r\n      :restaurant-comments=\"restaurantComments\"\r\n      @after-delete-comment=\"afterDeleteComment\"\r\n    />\r\n\r\n    <!-- 新增評論 CreateComment -->\r\n    <CreateComment \r\n      :restaurant-id=\"restaurant.id\"\r\n      @after-create-comment=\"afterCreateComment\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport RestaurantDetail from '../components/RestaurantDetail.vue'\r\nimport RestaurantComments from '../components/RestaurantComments.vue'\r\nimport CreateComment from '../components/CreateComment.vue'\r\nimport restaurantsAPI from './../apis/restaurants'\r\nimport { Toast } from './../utils/helpers'\r\nimport { mapState } from 'vuex'\r\nimport Spinner from './../components/Spinner.vue'\r\n\r\n// 串接API後就可以把假資料刪除\r\n// const dummyData = {\r\n//   restaurant: {\r\n//     id: 1,\r\n//     name: \"Alfredo Buckridge\",\r\n//     tel: \"405.381.3052 x47083\",\r\n//     address: \"81579 Kunde Fall\",\r\n//     opening_hours: \"08:00\",\r\n//     description:\r\n//       \"Voluptatum necessitatibus quis qui repellat omnis est. Tenetur inventore facere quis sint aperiam vel incidunt eum et. Ea voluptas non maxime deserunt officia sit ut corrupti quis. Et aut error ea molestiae et iste voluptatem sapiente. Quia ipsam quas hic qui impedit. Doloribus illum adipisci.\\n \\rVoluptas repellat nesciunt blanditiis. Vel et illo. Accusamus omnis laborum. Animi qui et saepe sint tenetur.\\n \\rDolorum ipsa fugiat explicabo. Aliquid nostrum totam quas aperiam libero necessitatibus animi possimus. Adipisci aut magni modi. Necessitatibus totam adipisci veniam. Vitae ipsum aut quis delectus dolorem illo.\",\r\n//     image:\r\n//       \"https://loremflickr.com/320/240/restaurant,food/?random=12.044077533969254\",\r\n//     viewCounts: 1,\r\n//     createdAt: \"2022-08-09T16:06:07.000Z\",\r\n//     updatedAt: \"2022-08-23T08:06:20.120Z\",\r\n//     CategoryId: 3,\r\n//     Category: {\r\n//       id: 3,\r\n//       name: \"義大利料理\",\r\n//       createdAt: \"2022-08-09T16:06:07.000Z\",\r\n//       updatedAt: \"2022-08-09T16:06:07.000Z\",\r\n//     },\r\n//     FavoritedUsers: [],\r\n//     LikedUsers: [],\r\n//     Comments: [\r\n//       {\r\n//         id: 1,\r\n//         text: \"Beatae dolor quisquam omnis.\",\r\n//         UserId: 2,\r\n//         RestaurantId: 1,\r\n//         createdAt: \"2022-08-09T16:06:07.000Z\",\r\n//         updatedAt: \"2022-08-09T16:06:07.000Z\",\r\n//         User: {\r\n//           id: 2,\r\n//           name: \"user1\",\r\n//           email: \"user1@example.com\",\r\n//           password:\r\n//             \"$2a$10$BEmxg9Eet19yTpB3ExIfOuQDxIiFHLQ2hleOnbe7vbQ1QmGAGr4Ly\",\r\n//           isAdmin: false,\r\n//           image: null,\r\n//           createdAt: \"2022-08-09T16:06:07.000Z\",\r\n//           updatedAt: \"2022-08-09T16:06:07.000Z\",\r\n//         },\r\n//       },\r\n//       {\r\n//         id: 51,\r\n//         text: \"Ut illum assumenda.\",\r\n//         UserId: 3,\r\n//         RestaurantId: 1,\r\n//         createdAt: \"2022-08-09T16:06:07.000Z\",\r\n//         updatedAt: \"2022-08-09T16:06:07.000Z\",\r\n//         User: {\r\n//           id: 3,\r\n//           name: \"user2\",\r\n//           email: \"user2@example.com\",\r\n//           password:\r\n//             \"$2a$10$QdqsfYDvkxUNdmHkFP1ia.yQeTT/czAWATuNJfy9WgjtpI35aGopO\",\r\n//           isAdmin: false,\r\n//           image: null,\r\n//           createdAt: \"2022-08-09T16:06:07.000Z\",\r\n//           updatedAt: \"2022-08-09T16:06:07.000Z\",\r\n//         },\r\n//       },\r\n//       {\r\n//         id: 101,\r\n//         text: \"Omnis nostrum nobis dolores cum.\",\r\n//         UserId: 3,\r\n//         RestaurantId: 1,\r\n//         createdAt: \"2022-08-09T16:06:07.000Z\",\r\n//         updatedAt: \"2022-08-09T16:06:07.000Z\",\r\n//         User: {\r\n//           id: 3,\r\n//           name: \"user2\",\r\n//           email: \"user2@example.com\",\r\n//           password:\r\n//             \"$2a$10$QdqsfYDvkxUNdmHkFP1ia.yQeTT/czAWATuNJfy9WgjtpI35aGopO\",\r\n//           isAdmin: false,\r\n//           image: null,\r\n//           createdAt: \"2022-08-09T16:06:07.000Z\",\r\n//           updatedAt: \"2022-08-09T16:06:07.000Z\",\r\n//         },\r\n//       },\r\n//     ],\r\n//   },\r\n//   isFavorited: false,\r\n//   isLiked: false,\r\n// }\r\n\r\n// 串接store後就可以把假資料刪除\r\n// const dummyUser = {\r\n//   currentUser: {\r\n//     \"id\": 1,\r\n//     \"name\": \"root\",\r\n//     \"email\": \"root@example.com\",\r\n//     \"image\": null,\r\n//     \"isAdmin\": true\r\n//   },\r\n//   isAuthenticated: true\r\n// }\r\n\r\nexport default {\r\n  components: {\r\n    RestaurantDetail: RestaurantDetail,\r\n    RestaurantComments: RestaurantComments,\r\n    CreateComment: CreateComment,\r\n    Spinner: Spinner,\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      restaurant: {\r\n        id: -1,\r\n        name: '',\r\n        categoryName: '',\r\n        image: '',\r\n        openingHours: '',\r\n        tel: '',\r\n        address: '',\r\n        description: '',\r\n        isFavorited: false,\r\n        isLiked: false\r\n      },\r\n      restaurantComments: [],\r\n      isLoading: true\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['currentUser'])\r\n  },\r\n  beforeRouteUpdate (to, from, next) {\r\n    const { id: restaurantId } = to.params\r\n    this.fetchRestaurant(restaurantId)\r\n    next()\r\n  },\r\n  created () {\r\n    // 利用解構賦值收資料this.$route.params內部是[id: 1(動態路由)]，id: restaurantID是將原本的id改名成restaurantID\r\n    const { id: restaurantId } = this.$route.params\r\n    this.fetchRestaurant(restaurantId)\r\n  },\r\n  methods: {\r\n    async fetchRestaurant (restaurantId) {\r\n      try{\r\n        this.isLoading = true\r\n        const { data } = await restaurantsAPI.getRestaurant({ restaurantId })\r\n\r\n        const { restaurant, isFavorited, isLiked } = data\r\n        const {\r\n          id,\r\n          name,\r\n          Category,\r\n          image,\r\n          opening_hours: openingHours,\r\n          tel,\r\n          address,\r\n          description,\r\n          Comments\r\n        } = restaurant\r\n\r\n        this.restaurant = {\r\n          id,\r\n          name,\r\n          categoryName: Category ? Category.name : '未分類',\r\n          image,\r\n          openingHours,\r\n          tel,\r\n          address,\r\n          description,\r\n          isFavorited,\r\n          isLiked\r\n        }\r\n\r\n        this.restaurantComments = Comments\r\n\r\n        this.isLoading = false\r\n      }\r\n      catch(error){\r\n        this.isLoading = false\r\n        console.error(error.message)\r\n\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無法取得餐廳資料，請稍後再試'\r\n        })\r\n      }\r\n    },\r\n    afterDeleteComment (commentId) {\r\n      // 以 filter 保留未被選擇的 comment.id\r\n      this.restaurantComments = this.restaurantComments.filter(\r\n        comment => comment.id !== commentId\r\n      )\r\n    },\r\n    afterCreateComment(payload) {\r\n      const { commentId, restaurantId, text } = payload\r\n      // console.log(commentId, restaurantId, text) 測試\r\n      this.restaurantComments.push({\r\n        id: commentId,\r\n        RestaurantId: restaurantId,\r\n        User: {\r\n          id: this.currentUser.id,\r\n          name: this.currentUser.name\r\n        },\r\n        text,\r\n        createdAt: new Date()\r\n      })\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RestaurantShow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RestaurantShow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RestaurantShow.vue?vue&type=template&id=15110a64&\"\nimport script from \"./RestaurantShow.vue?vue&type=script&lang=js&\"\nexport * from \"./RestaurantShow.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar toString = require('../internals/to-string');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\nvar SymbolPrototype = NativeSymbol && NativeSymbol.prototype;\n\nif (DESCRIPTORS && isCallable(NativeSymbol) && (!('description' in SymbolPrototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : toString(arguments[0]);\n    var result = isPrototypeOf(SymbolPrototype, this)\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  SymbolWrapper.prototype = SymbolPrototype;\n  SymbolPrototype.constructor = SymbolWrapper;\n\n  var NATIVE_SYMBOL = String(NativeSymbol('test')) == 'Symbol(test)';\n  var symbolToString = uncurryThis(SymbolPrototype.toString);\n  var symbolValueOf = uncurryThis(SymbolPrototype.valueOf);\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  var replace = uncurryThis(''.replace);\n  var stringSlice = uncurryThis(''.slice);\n\n  defineProperty(SymbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = symbolValueOf(this);\n      var string = symbolToString(symbol);\n      if (hasOwn(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = NATIVE_SYMBOL ? stringSlice(string, 7, -1) : replace(string, regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, constructor: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n"],"sourceRoot":""}